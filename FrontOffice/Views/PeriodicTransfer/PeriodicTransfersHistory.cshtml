<style type="text/css">
    .redStyle {
        color: red;
    }

    .greenStyle {
        color: green;
        
    }
    .align-center{
        text-align:center;
        align-items:center;

    }
    .top {
        font-size: 13px;
    }
</style>
<form name="HistoryForm" ng-app="app" ng-controller="PeriodicTransferCtrl" ng-submit="HistoryForm.$valid && getTransfersHistory(periodic.ProductId)" novalidate>
   
    <div class="row">
        <div class="col-sm-12">
            <div class="col-xs-4">
                <span class="product-detail-lable">Սկիզբ</span>
                <input type="date" ng-model="dateFrom" name="DateFrom" class="form-control"
                       required>
                <ng-messages ng-if="HistoryForm.$submitted || HistoryForm.DateFrom.$dirty"
                             for="HistoryForm.DateFrom.$error">
                    <ng-message when="required" class="errors">
                        Նշեք սկզբի ամսաթիվը
                    </ng-message>
                </ng-messages>
            </div>
            <div class="col-xs-4">
                <span class="product-detail-lable">Վերջ</span>
                <input type="date" ng-model="dateTo" name="DateTo" class="form-control"
                       required>
                <ng-messages ng-if="HistoryForm.$submitted || HistoryForm.DateTo.$dirty"
                             for="HistoryForm.DateTo.$error">
                    <ng-message when="required" class="errors">
                        Նշեք վերջի ամսաթիվը
                    </ng-message>
                </ng-messages>
            </div>
            <br />
            <div class="col-md-1" style="margin-left: 15px;">
                <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-list"></span>&nbsp;Պատմություն</button>
            </div>
            <br />
        </div>
        <div ng-if="HistoryForm.$submitted && dateFrom>dateTo" class="col-md-10  errors">Քաղվածքի Ժամկետի սկիզբը պետք է փոքր լինի վերջից</div>
    </div>
    <br />

    <div ng-if="HistoryForm.$submitted && dateFrom<=dateTo && HistoryForm.$valid">
        <div class="product-container" style="width:90%; margin-bottom:8px" >
            <div class="header-title">
                Քաղվածք
                <div class="product-collapse tipB fa fa-chevron-down" data-original-title="Թաքցնել" onclick="CollapseProductContainer(this)"></div>
            </div>
            <div class="product-collapsable-section">
                <div class="product-container-header" style="height:22px;">
                    <div class="col-sm-4">Ա/թ</div>
                    <div class="col-sm-8">Արդյունքի նկարագրություն</div>
                </div>
                <div class="product-content-table-full_height custom-scroll" id="statementContent" style="min-height:100px;">
                    <div ng-if="transfersHistory==undefined">
                        <loading></loading>
                    </div>
                    <table class="table table-condensed table-hover" style="background-color:white; margin-top:0px !important;">
                        <tbody>
                            <tr ng-repeat="history in transfersHistory">
                                <td colspan="3">
                                    <div class="row-no-margin">
                                        <div class="col-sm-4">
                                            {{ ::history.RegistrationDate | mydate | date: 'dd/MM/yyyy' }}
                                        </div>
                                        <div class="col-sm-8">
                                            <span ng-show="history.OperationResult==0"> {{::history.OperationResultDescription}}</span>
                                            <span ng-show="history.OperationResult==1"> {{::history.OperationResultDescription}} ({{ ::history.AmountString }} {{ ::history.Currency }})</span>
                                            <span ng-show="history.OperationResult==2"> Ներքին սխալ</span>
                                        </div>
                                    </div>
                                    <div>{{ ::transaction.Description }}</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div ng-if="transfersHistory.length==0 && dateFrom<=dateTo" style="color:red;font-size:16px;text-align:center">Նշված ժամանակահատվածում գործարք չի կատարվել</div>
                
                </div>
               
            </div>
            
        </div>
       
    </div>
    
</form>

