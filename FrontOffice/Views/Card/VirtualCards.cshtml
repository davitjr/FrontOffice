@{
    Layout = null;
}
<div ng-controller="VirtualCardCtrl" id="virtualCards" ng-init="getVirtualCards(productid)">
    <div class="product-container" style="width:90%">
        <div class="header-title">
            Թոքեններ <span style="color: #337AB7; cursor:pointer;" ng-controller="PopUpCtrl" ng-click="getVirtualCardInfoFromThales(productid)" class="glyphicon glyphicon-save-file" />
            <div class="product-collapse tipB fa fa-chevron-down" data-original-title="Թաքցնել" onclick="CollapseProductContainer(this)"></div>
        </div>
        <div class="product-collapsable-section">
            <div class="product-container-header">
                <div class="include-closed-products">
                    <input type="checkbox" class="css-square-checkbox lrg" id="include-inactive-tokens" data-ng-model="filter" ng-true-value="2" ng-false-value="1" ng-change="qualityFilterChange(productid)">
                    <label for="include-inactive-tokens" name="include-closed-card-accounts-checkbox_lbl" class="css-label lrg custom-square-checkbox">Inactive Թոքեններ</label>
                </div>
            </div>
            <div class="product-content-table-full_height custom-scroll" id="provisionsContent" style="min-height:100px;">
                <div ng-if="virtualCards==undefined">
                    <loading></loading>
                </div>
                <table class="table table-condensed table-hover" style="background-color:white; margin-top:0px !important;">
                    <tbody ng-if="filter==1">
                        <tr ng-repeat="virtual in virtualCards" ng-class="{'selected':$index == selectedRow}" ng-click="setClickedRowVirtualCard(virtual)" style="max-height:200px">
                            <td class="text-left col-sm-11">
                                <div style="margin-left: 5pt;">
                                    <div>
                                        <span class="my_label" style="font-size:13px">Համար` </span>{{::virtual.VirtualCardNumber}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Գրանցման ա/թ` </span>{{::virtual.RegistrationDate}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Կարգավիճակ` </span>{{::virtual.StatusDescription}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px"> </span>{{ ::virtual.DeviceBrand }}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Մոդել` </span>{{::virtual.DeviceModel}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Սարքավորում` </span>{{::virtual.TokenStorageType}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">​x‐correlation‐id` </span>{{::virtual.EnrolmentId}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Token Requestor Id` </span>{{::virtual.TokenRequestorId}}
                                        <span ng-if="virtual.IsApplePay==true" class="glyphicon glyphicon-apple"></span>
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">​Reason Codes` </span>{{::virtual.ReasonCodes}}
                                    </div>
                                    <div>
                                        <span class="my_label " style="font-size:13px">LevelOfTrust` </span>{{::virtual.LevelOfTrust}}
                                        <span ng-if="virtual.LevelOfTrust == 'yellow'" style="color: #d7d71b" class="glyphicon glyphicon-warning-sign"></span>
                                        <span ng-if="virtual.LevelOfTrust == 'red'" style="color:red" class="glyphicon glyphicon-remove"></span>
                                        <span ng-if="virtual.LevelOfTrust == 'green'" style="color:green" class="glyphicon glyphicon-ok"></span>
                                    </div>
                                    <div ng-if="virtual.IsOrangeFlow == true">
                                        <span class="my_label" style="font-size:13px;color:orange">Ուշադրություն Orange Flow  </span>
                                        <span style="color:orange" class="glyphicon glyphicon-exclamation-sign"></span>
                                    </div>
                                </div>
                            </td>
                            <td class="col-sm-1 click_toggle" context="contextTokens" id="contextMenu"><div id="contextMenu"></div> </td>
                        </tr>
                        <tr ng-if="virtualCards==undefined || virtualCards.length==0">
                            <td colspan="3" style="text-align:center;">
                                Տվյալները բացակայում են
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-if="filter!=1">
                        <tr ng-repeat="virtualCardFromtThales in virtualCardsFromtThales" ng-class="{'selected':$index == selectedRow}" ng-click="setClickedRowVirtualCard(virtualCardFromtThales)" style="max-height:200px">
                            <td class="text-left col-sm-11">
                                <div style="margin-left: 5pt;">
                                    <div>
                                        <span class="my_label" style="font-size:13px">Համար` </span>{{::virtualCardFromtThales.virtualCardId}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Կարգավիճակ` </span>{{::virtualCardFromtThales.status}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">DeviceName` </span>{{::virtualCardFromtThales.deviceName}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">WalletProviderId` </span>{{::virtualCardFromtThales.walletProviderId}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">TokenStorageType` </span>{{::virtualCardFromtThales.tokenStorageType}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">Manufacturer` </span>{{::virtualCardFromtThales.Manufacturer}}
                                    </div>
                                    <div>
                                        <span class="my_label" style="font-size:13px">PhoneNumber` </span>{{::virtualCardFromtThales.phoneNumber}}
                                    </div>
                                </div>
                            </td>
                            <td class="col-sm-1 click_toggle" context="contextTokens" id="contextMenu"><div id="contextMenu"></div> </td>
                        </tr>
                        <tr ng-if="virtualCards==undefined || virtualCards.length==0">
                            <td colspan="3" style="text-align:center;">
                                Տվյալները բացակայում են
                            </td>
                        </tr>
                    </tbody>
                </table>
                <ul id="contextTokens" class="dropdown-menu">
                    <li ng-if="filter==1"><a style="color: black;text-decoration:none!important ;" href="" ng-controller="PopUpCtrl" class="my_button" ng-click="params={virtualcardid: selectedVirtualcard.VirtualCardId};openWindow('/Card/VirtualCardHistory','Պատմություն','history')">Պատմություն</a></li>
                    <li ng-if="selectedVirtualcard.Status!=3 && selectedVirtualcard.Status!=0 && filter==1"><a style="color: black;text-decoration:none!important ;" href="" ng-controller="PopUpCtrl" class="my_button" ng-click="params={virtualcardid: selectedVirtualcard.VirtualCardId,productid:productid,status: selectedVirtualcard.Status};openWindow('VirtualCardStatusChangeOrder/PersonalVirtualCardStatusChangeOrder','Կարգավիճակի փոփոխություն','virtual_card_status_change_order')">Փոխել  կարգավիճակը</a></li>
                    <li ng-if="filter!=1"><a style="color: black;text-decoration:none!important ;" href="" ng-controller="PopUpCtrl" class="my_button" ng-click="params={virtualcardid: selectedVirtualcard.VirtualCardId,productid:productid,status: selectedVirtualcard.Status};openWindow('VirtualCardStatusChangeOrder/PersonalVirtualCardStatusChangeOrder','Կարգավիճակի փոփոխություն','virtual_card_status_change_order')">Փոխել  կարգավիճակը</a></li>
                    <li ng-if="filter==1"><a style="color: black;text-decoration:none!important ;" href="" ng-controller="PopUpCtrl" class="my_button" ng-click="params={virtualcardid: selectedVirtualcard.VirtualCardId};openWindow('/Card/VirtualCardCTFInfo','CTFInfo','CTF_Info')">CTF</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>