@{
    Layout = null;
}
<style type="text/css">
    #PhoneBankingContractOrderForm .ui-widget input {
        font-family: 'webly_semibold';
    }
</style>


<div id="phoneBankingContractLoad" class="overlay hidden">
        <img class="loader-image non-selectable" src="../../Content/Images/invisible.png" />
    </div>
<form ng-controller="PhoneBankingContractCtrl" ng-init="setPhoneBankingContractOrder()" name="PhoneBankingContractOrderForm" id="PhoneBankingContractOrderForm" role="form" style="min-width:600px;min-height:570px;" novalidate class="form-horizontal" labels-required>
   
    <div id="PhoneBankingContractOrder_menu" class="menu-bar dialog-menu light-green">
        <ul id="menu" class="dialog-menu">
            <li class="root-menu-item-4 " ng-click="PhoneBankingContractOrderForm.$setSubmitted();PhoneBankingContractOrderForm.$valid  && savePhoneBankingContractOrder();">
                <span id="h-menu-item-4"><img id="h-menu-icon-4" class="submitButton h-menu-icon">Պահպանել</span>
            </li>
            <li class="root-menu-item-5 " onclick="CloseBPDialog('newphonebankingcontractorder')">
                <span id="h-menu-item-5"><img id="h-menu-icon-5" class="h-menu-icon cancelButton">Հրաժարվել</span>
            </li>
        </ul>
        <div id="right-menu" style="display:none;">
        </div>
    </div>

    <div class="col-sm-7" style="padding:0;padding-left:5px;">

        <div class="col-sm-12">

            <div style="max-width:700px">
                <errors></errors>
            </div>


            <div class="form-group">
                <label class="tab_title col-sm-6 " for="RegistrationDate">Մուտքագրման ա/թ</label>
                <div class="col-sm-6 row">
                    <div class="multiple_columns col-sm-8 ">
                        <input disabled="disabled" type="date" class="form-control tab_title unstyled" style="text-align: left;" id="RegistrationDate" name="RegistrationDate" ng-model="order.RegistrationDate" required>
                    </div>
                </div>
            </div>

            <div class="form-group" ng-init="getCustomerMainData()" ng-if="customerNumber">
                <label class="tab_title col-sm-6" for="phone">Հեռախոսահամար<span class="redStyle">*</span></label>
                <div class="col-sm-6">
                    <div class="row">
                        <select ng-model="order.PhoneId" name="phone" id="phone" class="form-control"
                                data-ng-options="item.id as item.phone.countryCode + item.phone.areaCode + item.phone.phoneNumber for item  in customerMainData.Phones" required>
                            <option value="" hidden>Ընտրեք հեռախոսահամարը ...</option>
                        </select>
                    </div>

                    <div class="row">
                        <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.phone.$dirty"
                                     for="PhoneBankingContractOrderForm.phone.$error">
                            <ng-message when="required" class="errors">
                                Հեռախոսահամարը մուտքագրված չէ
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>

            <div class="form-group" ng-init="getCustomerMainData()" ng-if="customerNumber">
                <label class="tab_title col-sm-6 " for="email">Էլ․ հասցե<span class="redStyle">*</span></label>
                <div class="col-sm-6">
                    <div class="row">
                        <div class="multiple_columns col-sm-12">
                            <select ng-model="order.EmailId" name="email" id="email" class="form-control"
                                    data-ng-options="item.id as item.email.emailAddress for item  in customerMainData.Emails" required>
                                <option value="" hidden>Ընտրեք Էլ․հասցեն ...</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.email.$dirty"
                                     for="PhoneBankingContractOrderForm.email.$error">
                            <ng-message when="required" class="errors">
                                Էլ․ հասցեն մուտքագրված չէ
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>


            <div class="panel panel-success" style="margin-bottom: 10px;">
                <div class="panel-heading">Գործարքի սահմանաչափ</div>
                <div class="panel-body" style="padding-bottom: 10px; padding-top: 10px;">
                    <div class="form-group">
                        <label class="tab_title col-sm-6 " for="OneTransactionLimitToOwnAccount">Ներբանկային (փոխանցում սեփական հաշիվների միջև)</label>
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="multiple_columns col-sm-12">
                                    <input class="form-control tab_title unstyled" style="text-align: left;" id="OneTransactionLimitToOwnAccount" name="OneTransactionLimitToOwnAccount" ng-model="order.OneTransactionLimitToOwnAccount" @*required*@ fcsa-number />
                                </div>
                            </div>

                            @*<div class="row">
                                <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.OneTransactionLimitToOwnAccount.$dirty"
                                             for="PhoneBankingContractOrderForm.OneTransactionLimitToOwnAccount.$error">
                                    <ng-message when="required" class="errors">
                                        Գործարքի սահմանաչափը մուտքագրված չէ
                                    </ng-message>

                                    <ng-message when="fcsaNumber" class="errors">
                                        Գործարքի սահմանաչափը սխալ է լրացված
                                    </ng-message>
                                </ng-messages>
                            </div>*@
                        </div>
                    </div>



                    <div class="form-group">
                        <label class="tab_title col-sm-6 " for="OneTransactionLimitToAnothersAccount">Ներբանկային (փոխանցում այլ հաճախորդի հաշվին)</label>
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="multiple_columns col-sm-12">
                                    <input class="form-control tab_title unstyled" style="text-align: left;" id="OneTransactionLimitToAnothersAccount" name="OneTransactionLimitToAnothersAccount" ng-model="order.OneTransactionLimitToAnothersAccount" fcsa-number @*required*@ />
                                </div>
                            </div>

                            @*<div class="row">
                                <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.OneTransactionLimitToAnothersAccount.$dirty"
                                             for="PhoneBankingContractOrderForm.OneTransactionLimitToAnothersAccount.$error">
                                    <ng-message when="required" class="errors">
                                        Գործարքի սահմանաչափը մուտքագրված չէ
                                    </ng-message>
                                    <ng-message when="fcsaNumber" class="errors">
                                        Գործարքի սահմանաչափը սխալ է լրացված
                                    </ng-message>
                                </ng-messages>
                            </div>*@
                        </div>
                    </div>

                </div>
            </div>

            <div class="panel panel-success" style="margin-bottom: 10px;">
                <div class="panel-heading">Օրական սահմանաչափ</div>
                <div class="panel-body" style="padding-bottom: 10px; padding-top: 10px;">
                    <div class="form-group">
                        <label class="tab_title col-sm-6 " for="DayLimitToOwnAccount">Ներբանկային (փոխանցում սեփական հաշիվների միջև)</label>
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="multiple_columns col-sm-12">
                                    <input class="form-control tab_title unstyled" style="text-align: left;" id="DayLimitToOwnAccount" name="DayLimitToOwnAccount" ng-model="order.DayLimitToOwnAccount" fcsa-number required />
                                </div>
                            </div>

                            <div class="row">
                                <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.DayLimitToOwnAccount.$dirty"
                                             for="PhoneBankingContractOrderForm.DayLimitToOwnAccount.$error">
                                    <ng-message when="required" class="errors">
                                        Օրական սահմանաչափը մուտքագրված չէ
                                    </ng-message>
                                    <ng-message when="fcsaNumber" class="errors">
                                        Օրական սահմանաչափը սխալ է լրացված
                                    </ng-message>
                                </ng-messages>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="tab_title col-sm-6 " for="DayLimitToAnothersAccount">Ներբանկային (փոխանցում այլ հաճախորդի հաշվին)</label>
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="multiple_columns col-sm-12">
                                    <input class="form-control tab_title unstyled" style="text-align: left;" id="DayLimitToAnothersAccount" name="DayLimitToAnothersAccount" ng-model="order.DayLimitToAnothersAccount" fcsa-number required />
                                </div>
                            </div>

                            <div class="row">
                                <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm.DayLimitToAnothersAccount.$dirty"
                                             for="PhoneBankingContractOrderForm.DayLimitToAnothersAccount.$error">
                                    <ng-message when="required" class="errors">
                                        Օրական սահմանաչափը մուտքագրված չէ
                                    </ng-message>
                                    <ng-message when="fcsaNumber" class="errors">
                                        Օրական սահմանաչափը սխալ է լրացված
                                    </ng-message>
                                </ng-messages>
                            </div>
                        </div>
                    </div>
                </div>
            </div>






            <div class="product-collapsable-section">
                <div class="product-container-header" style="color: #3c763d;background-color: #dff0d8; border-color: #d6e9c6;">

                    <div class="panel-heading">
                        Հարցեր
                        <i class="add-new-product tip" ng-controller="PopUpCtrl" ng-click="openWindow('/PhoneBankingContract/PhoneBankingContractQuestionAnswer','Հարցի մուտքագրում','newquestionanswer')" data-toggle="tooltip" data-trigger="hover" title="Նոր հարց"></i>
                    </div>
                </div>




                <div class="product-content-table custom-scroll" id="PhoneBankingContractQuestionsContent" ng-class="{'product-content-table-full_height' : hideBlank!='true' }">

                    <table class="table table-condensed table-hover" style="background-color:white; margin-top:0px !important; position:absolute;">
                        <tbody>
                            <tr ng-repeat="questionAnswer in order.QuestionAnswers" ng-class="{'selected':$index == selectedRow}" ng-click="setClickedRow($index,questionAnswer);">
                                <td id="auestionAnswerRow_{{$index}}">
                                    <textarea disabled class="form-control tab_title" style="text-align: left; width: 47%; height: 50px;" id="Question_{{$index}}" name="Question" ng-model="questionAnswer.QuestionDescription"></textarea>

                                    &nbsp;
                                    <span class="redStyle">*</span>
                                    <textarea class="form-control tab_title" style="text-align: right; width: 47%; height: 50px;" id="Answer_{{$index}}" name="Answer_{{$index}}" ng-model="questionAnswer.Answer" required></textarea>
                                    <div class="row" style="text-align:right; padding-right: 30px;">
                                        <ng-messages ng-if="PhoneBankingContractOrderForm.$submitted || PhoneBankingContractOrderForm['Answer_'+$index].$dirty"
                                                     for="PhoneBankingContractOrderForm['Answer_'+$index].$error">
                                            <ng-message when="required" class="errors">
                                                Պատասխանը մուտքագրված չէ
                                            </ng-message>
                                        </ng-messages>
                                    </div>
                                </td>

                                <td class="col-sm-1 click_toggle" context="contextQuestions" id="contextMenu"><div id="contextMenu"></div> </td>
                            </tr>
                            <tr ng-if="order.QuestionAnswers == undefined || order.QuestionAnswers.length==0 ">
                                <td colspan="3" style="text-align:center;">
                                    Առկա չեն հարցեր
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>

                <ul id="contextQuestions" class="dropdown-menu">
                    <li ng-click="removeQuestionAnswer(selectedQuestionAnswer)"><a style="font-weight: bold;text-decoration:none!important;cursor:pointer">Հեռացնել</a></li>
                </ul>
            </div>



        </div>
        </div>
</form>












