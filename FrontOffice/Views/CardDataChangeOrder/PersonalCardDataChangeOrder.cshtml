@{
    Layout = null;
}

<div id="cardDataChangeOrderLoad" class="overlay hidden">
    <img class="loader-image non-selectable" src="../../Content/Images/invisible.png" />
</div>
<form ng-controller="CardDataChangeOrderCtrl" style="min-width:650px;" id="CardDataChangeOrdeForm" name="CardDataChangeOrdeForm" role="form" novalidate class="form-horizontal" prevent-enter-submit>

    <div id="cardDataChangeOrder_menu" class="menu-bar dialog-menu light-green">
        <ul id="menu" class="dialog-menu">
            <li class="root-menu-item-4 " ng-click="CardDataChangeOrdeForm.$setSubmitted();CardDataChangeOrdeForm.$valid && saveCardDataChangeOrder();">
                <span id="h-menu-item-4"><img id="h-menu-icon-4" class="submitButton h-menu-icon">Պահպանել</span>
            </li>
            <li class="root-menu-item-5 " onclick="CloseBPDialog('cardDataChangeOrder')">
                <span id="h-menu-item-5"><img id="h-menu-icon-5" class="h-menu-icon cancelButton">Հրաժարվել</span>
            </li>
        </ul>
        <div id="right-menu" style="display:none;">
        </div>
    </div>
    <div>
        <div style="max-width:700px">
            <errors></errors>
        </div>



        <div class="col-sm-11" ng-init="getCardDataChangeFieldTypeDescription(fieldType)">
            <div class=" form-group">
                <label class="tab_title col-sm-5 " for="RegistrationDate">Մուտքագրման ա/թ</label>
                <div class="col-sm-6">
                    <div class="row">
                        <input disabled="disabled" type="date" class="form-control tab_title" style="text-align: left;" id="RegistrationDate" name="RegistrationDate" ng-model="order.OperationDate" required>
                    </div>

                </div>
            </div>

            <div class="form-group " ng-if="fieldTypeDescription && isDate!=true && fieldType!=19 && fieldType!=20 && fieldType!=21">
                <label class="tab_title col-sm-5 " for="FieldValue">{{fieldTypeDescription}}</label>
                <div class="col-sm-6">
                    <div class="row">
                        <div class="input-group col-sm-10">
                            <input type="text" style="text-align:left" fcsa-number onkeypress='return event.charCode >= 48 && event.charCode <= 57 || event.charCode==46' class="form-control tab_title" id="FieldValue" name="FieldValue" ng-model="order.FieldValue" required>
                            <span class="input-group-addon" id="basic-addon2" style="width: 0;">{{valueType}} </span>
                        </div>
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.FieldValue.$dirty"
                                     for="CardDataChangeOrdeForm.FieldValue.$error">
                            <ng-message when="required" class="errors">
                                {{fieldTypeDescription}} նշված չէ
                            </ng-message>
                            <ng-message when="fcsaNumber" class="errors">
                                {{fieldTypeDescription}} սխալ է լրացված
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>

            <div class="form-group " ng-if="fieldType==19 && fieldTypeDescription">
                <label class="tab_title col-sm-5 " for="FieldValue">{{fieldTypeDescription}}</label>
                <div class="col-sm-6">
                    <div class="row">
                        <input type="text" style="text-align:left" class="form-control tab_title" id="FieldValue" ng-blur="getCardRelatedOfficeName(order.FieldValue)" typeahead="relOffice.Key as relOffice.Value  for relOffice in searchRelatedOfficeTypes($viewValue)" typeahead-on-select="onSelect($item, $model, $label)" name="FieldValue" ng-model="order.FieldValue" required>
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.FieldValue.$dirty"
                                     for="CardDataChangeOrdeForm.FieldValue.$error">
                            <ng-message when="required" class="errors">
                                {{fieldTypeDescription}} նշված չէ
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>



            <div class="form-group sub_inner" ng-if="relOfficeDescription">
                <div class="col-sm-12 tab_title">
                    {{relOfficeDescription}}
                </div>
            </div>

            <div class="form-group " ng-if="fieldTypeDescription && isDate">
                <label class="tab_title col-sm-5 " for="DateFieldValue">{{fieldTypeDescription}}</label>
                <div class="col-sm-6">
                    <div class="row">
                        <input type="date" style="text-align:left" class="form-control tab_title" id="DateFieldValue" name="DateFieldValue" ng-model="order.DateFieldValue">
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.DateFieldValue.$dirty"
                                     for="CardDataChangeOrdeForm.DateFieldValue.$error">
                            <ng-message when="date" class="errors">
                                {{fieldTypeDescription}} սխալ է նշված
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>


            <div class="form-group" ng-if="fieldTypeDescription && (fieldType==20 || fieldType==21)">
                <label class="tab_title col-sm-5" for="SMSFeeType">{{fieldTypeDescription}}</label>
                <div class="col-sm-6">
                    <div class="row">
                        <select data-ng-model="order.FieldType" name="SMSFeeType" id="SMSFeeType" class="form-control" required>
                            <option value="" hidden="hidden" style="margin-left:25px">Ընտրեք...</option>
                            <option value="20" style="margin-left:25px">Հաճախորդից</option>
                            <option value="21" style="margin-left:25px">Բանկից</option>
                        </select>
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.SMSFeeType.$dirty"
                                     for="CardDataChangeOrdeForm.SMSFeeType.$error">
                            <ng-message when="required" class="errors">
                                {{fieldTypeDescription}} ընտրված չէ
                            </ng-message>
                        </ng-messages>
                    </div>

                </div>
            </div>


            <div class="form-group " ng-show="fieldTypeIsRequaried!=undefined" ng-init="checkCardDataChangeOrderFieldTypeIsRequaried(order.FieldType)">
                <label class="tab_title col-sm-5 " for="FieldValue">Փոփոխության կատարման հիմք</label>
                <div class="col-sm-6">
                    <div class="row">
                        <textarea rows="3" ng-required="fieldTypeIsRequaried" style="text-align:left" onkeypress="return isArmenianUnicode(event.keyCode)" onpaste="return CheckPasteText(event)" ng-model="order.DocumentNumber" id="DocumentNumber" name="DocumentNumber" class="form-control tab_title"></textarea>
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.DocumentNumber.$dirty"
                                     for="CardDataChangeOrdeForm.DocumentNumber.$error">
                            <ng-message when="required" class="errors">
                                Փոփոխության կատարման հիմքը նշված չէ
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>
            </div>

            <div class="form-group " ng-show="fieldTypeIsRequaried!=undefined">
                <label class="tab_title col-sm-5 " for="DocumentDate">Փաստաթղթի ա/թ</label>
                <div class="col-sm-6">
                    <div class="row">
                        <input type="date" style="text-align:left" class="form-control tab_title" id="DocumentDate" name="DocumentDate" ng-model="order.DocumentDate" ng-required="fieldTypeIsRequaried && fieldType != 19 ">
                    </div>
                    <div class="row">
                        <ng-messages ng-if="CardDataChangeOrdeForm.$submitted || CardDataChangeOrdeForm.DocumentDate.$dirty"
                                     for="CardDataChangeOrdeForm.DocumentDate.$error">
                            <ng-message when="required" class="errors">
                                Փաստաթղթի ա/թ-ն նշված չէ
                            </ng-message>
                            <ng-message when="date" class="errors">
                                Փաստաթղթի ա/թ-ն սխալ է նշված
                            </ng-message>
                        </ng-messages>
                    </div>
                </div>

            </div>





        </div>
    </div>



</form>











