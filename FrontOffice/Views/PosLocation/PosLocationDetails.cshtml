@{
    Layout = null;
}
<div id="load" class="overlay hidden">
    <img class="loader-image non-selectable" src="../../Content/Images/invisible.png" />
</div>
<div ng-controller="PosLocationCtrl" data-ng-init="getPosLocation(posLocationId); " id="posLocationDetails">
    <div class="product-details bhoechie-tab-content" style="min-width:800px;margin-left:10px;">
        @*<div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Համար</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.Id}}</div>
        </div>*@
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Պայմանագրի ա/թ</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.OpenDateString}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Անվանում</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.Description}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Հասցե</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.Address}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Հեռ․</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.Phone}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Ոլորտ</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.LocationTypeDescription}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Լրաց․ տվյալներ</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.AdditionalDescription}}</div>
        </div>
        <div class="product-detail-row">
            <div class="product-detail-cell product-detail-lable">Կարգավիճակ</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.QualityDescription}}</div>
        </div>
        <div class="product-detail-row" ng-if="posLocation.Quality!=0">
            <div class="product-detail-cell product-detail-lable">Դադարեցման ա/թ</div>
            <div class="product-detail-cell product-detail-value">{{posLocation.ClosedDateString}}</div>
        </div>

    </div>
    <div class="bhoechie-tab-container" style="max-height:80%;" id="posLocationsContainer">
        <div class="bhoechie-tab-menu" style="display:inline-block; vertical-align: top;">
            <div class="list-group">
                <div class="list-group-item text-center active"><span>POS տերմինալներ</span></div>
                <div class="list-group-item text-center">Քաղվածք</div>
            </div>
        </div>
        <div class="bhoechie-tab" style="width: calc(100% - 140px); display: inline-block;">
            <div class="bhoechie-tab-content active" @*ng-if="card"*@>
                <div class="product-container" style="width:98%">
                    <div class="header-title">
                        POS տերմինալներ
                        <div class="product-collapse tipB fa fa-chevron-down" data-original-title="Թաքցնել" onclick="CollapseProductContainer(this)"></div>
                    </div>
                    <div class="product-collapsable-section">
                        <div class="product-container-header" style="height:22px;">
                            <div class="col-sm-2" style="text-align:center">Տերմինալ</div>
                            <div class="col-sm-3" style="text-align:center">Տեսակ</div>
                            <div class="col-sm-3" style="text-align:center">Հաշվեհամար</div>
                            <div class="col-sm-2" style="text-align:right">Մասնաճյուղ</div>
                            <div class="col-sm-1" style="text-align:center">Բանկ</div>
                            <div class="col-sm-1" style="text-align:left"></div>
                        </div>
                        <div class="product-content-table-full_height custom-scroll" id="statementContent" style="min-height:100px;overflow-x:hidden">
                            <div ng-if="posLocation.Posterminals==undefined">
                                <loading></loading>
                            </div>
                            <table class="table table-condensed table-hover" style="background-color:white; margin-top:0px !important;">
                                <tbody>
                                    <tr ng-repeat="posTerminal in ::posLocation.Posterminals" ng-click="setClickedTerminalRow($index,posTerminal);">
                                        <td colspan="6">
                                            <div class="row">
                                                <div class="col-sm-2" style="text-align:center"><span>{{::posTerminal.TerminalID}}</span></div>
                                                <div class="col-sm-3" style="text-align:center; word-wrap: break-word; ">{{::posTerminal.TypeDescription}}</div>
                                                <div class="col-sm-3" style="text-align:center;"><span>{{::posTerminal.AccountNumber}}</span></div>
                                                <div class="col-sm-2" style="text-align:center;">{{::posTerminal.FilialCode}}</div>
                                                <div class="col-sm-1" style="text-align:center;">{{::posTerminal.OwnerBankCode}}</div>
                                                <div class="col-sm-1 click_toggle" context="contextPosTerminal" id="contextMenu"><div id="contextMenu"></div> </div>
                                            </div>                    
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bhoechie-tab-content ">
                <div class="row">
                    <div >
                        <div class="col-sm-3" style="padding-right:0;">
                            <span class="product-detail-lable">Հաշվեհամար</span>
                            <select data-ng-model="selectedPosTerminal" name="PosTerminalAccount" id="PosTerminalAccount" class="form-control" required
                                    data-ng-options="a.AccountNumber for a  in posLocation.Posterminals" style="padding:0;">

                                <option value="" hidden="hidden" style="margin-left:25px">Ընտրեք հաշվեհամարը...</option>

                            </select>
                        </div>
                        <div class="col-sm-3">
                            <span class="product-detail-lable">Սկիզբ</span>
                            <input type="date" ng-model="dateFrom" name="DateFrom" class="form-control" style="width:150px;"
                                   required>
                           
                        </div>
                        <div class="col-sm-3">
                            <span class="product-detail-lable">Վերջ</span>
                            <input type="date" ng-model="dateTo" name="DateTo" class="form-control" style="width:150px;"
                                   required>
                            
                        </div>
                        <div class="col-sm-3">
                            <br />
                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                               Քաղվածք <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="" ng-click="dateFrom<=dateTo && printPosStatement(selectedPosTerminal.AccountNumber,'pdf')">Տպել PDF</a></li>
                                <li><a href="" ng-click="dateFrom<=dateTo && printPosStatement(selectedPosTerminal.AccountNumber,'xls')">Տպել Excel</a></li>
                            </ul>
                        </div>
                        <br />
                    </div>
                    <div ng-if="dateFrom>dateTo" class="col-md-10  errors">Քաղվածքի ժամկետի սկիզբը պետք է փոքր լինի վերջից</div>
                    
                </div>
                <br />
                <div>
                    <div >
                        <div class="btn-group">
                            <div id="printdetails" >
                                <span class="product-detail-lable">
                                    <input style="width:initial;margin-top:-2px" type="radio" value="1" name="statementType" ng-model="statementType" >Գործարքի ա/թ<br />
                                    <input style="width:initial;margin-top:-2px" type="radio" value="2" name="statementType" ng-model="statementType" >Ձևակերպման ա/թ<br />
                                    <input style="width:initial;margin-top:-2px" type="radio" value="3" name="statementType" ng-model="statementType">Միայն գործարքները<br />
                                    <br />
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ul id="contextPosTerminal" class="dropdown-menu">
            <li><a style="color: black;text-decoration:none!important" ng-controller="PopUpCtrl" ng-click="params={terminalId:terminalId};openWindow('PosLocation/PosRates','Միջնորդավճար','posterminalrates')" href="">Միջնորդավճար</a></li>
            <li><a style="color: black;text-decoration:none!important" ng-controller="PopUpCtrl" ng-click="params={terminalId:terminalId};openWindow('PosLocation/PosCashbackRates','Cashback միջնորդավճար','posterminalcashbackrates')" href="">Cashback միջնորդավճար</a></li>
            <li><a style="color: black;text-decoration:none!important" ng-controller="PopUpCtrl" ng-click="params={terminalId:terminalId, merchantId:merchantId};openWindow('PosLocation/PrintPosDocuments','Տպել փաստաթղթերը','posterminaldocuments')" href="">Տպել փաստաթղթերը</a></li>
        </ul>
    </div>
    <br />
    <br />
</div>
<script type="text/javascript">

    $("#posLocationDetails div.bhoechie-tab-menu>div.list-group>div").click(function (e) {
        e.preventDefault();
        $(this).siblings('#posLocationDetails div.active').removeClass("active");
        $(this).addClass("active");
        var index = $(this).index();
        $("#posLocationDetails div.bhoechie-tab>div.bhoechie-tab-content").removeClass("active");
        $("#posLocationDetails div.bhoechie-tab>div.bhoechie-tab-content").eq(index).addClass("active");
    });


    $("#posLocationsContainer").mCustomScrollbar({
        theme: "rounded-dark",
        scrollButtons: {
            scrollAmount: 200,
            enable: true
        },
        mouseWheel: {
            scrollAmount: 200
        }
    });

</script>