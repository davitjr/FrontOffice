<style type="text/css">
    #paymentorder .ui-widget input {
        font-family: 'webly_semibold';
    }

    #paymentorder {
        min-width: 970px;
    }

    .forPeriodic {
        padding-left: 0;
    }

    .forCalculator {
        width: 50px;
        padding-left: 10px;
        padding-top: 10px;
    }

    .notForCalculator {
        width: 0px;
    }
</style>


<div id="cashBookOrdertLoad" class="overlay hidden">
    <img class="loader-image non-selectable" src="../../Content/Images/invisible.png" />
</div>

<form style="min-width:650px" name="cashBookOrderForm" ng-controller="CashBookCtrl" id="cashBookOrderForm" ng-init="order.Currency=linkedCashBook.Currency;generateNewOrderNumber()" role="form" class="form-horizontal" novalidate prevent-enter-submit labels-required>
    <div  id="cashBookorder_menu" class="menu-bar dialog-menu light-green">
        <ul id="menu" class="dialog-menu">
            <li class="root-menu-item-3 " ng-if="(linkedCashBookType==1 && correspondentAccountType==2) || (linkedCashBookType==3 && correspondentAccountType==1) || (linkedCashBookType==3 && correspondentAccountType==2)" ng-click="cashBookOrderForm.$setSubmitted();cashBookOrderForm.$valid && getPersonalPaymentOrderDetails()">
                <span id="h-menu-item-3"><img id="h-menu-icon-3" class="h-menu-icon printButton">Հանձնարարական</span>
            </li>
           
            <li class="root-menu-item-4 " ng-click="cashBookOrderForm.$setSubmitted();cashBookOrderForm.$valid && saveCashBookOrder();">
                <span id="h-menu-item-4"><img id="h-menu-icon-4" class="submitButton h-menu-icon">Պահպանել</span>
            </li>
            <li class="root-menu-item-5 " onclick="CloseBPDialog('newCashBookOrder')">
                <span id="h-menu-item-5"><img id="h-menu-icon-5" class="h-menu-icon cancelButton">Հրաժարվել</span>
            </li>
        </ul>
        
    </div>
    
	<div style="min-width:780px">

		<div class="col-sm-7">
			<div style="max-width:530px">
				<errors></errors>
			</div>
			<div class="form-group">
				<label class="tab_title col-sm-5 control-label" for="RegistrationDate">Մուտքագրման ա/թ</label>
				<div class="col-sm-6">
					<div class="row">
						<div class="col-sm-8 multiple_columns">
							<input disabled="disabled" type="date" ng-model="order.RegistrationDate" name="registrationDate" class="tab_title form-control unstyled" style="text-align:left" required />
						</div>
					</div>
				</div>
			</div>

			<div class="form-group " ng-if="linkedCashBookType==1 && correspondentAccountType==1">
				<label class="tab_title col-sm-5" for="CreditAccount">Կրեդիտագրվող հաշիվ</label>
				<div class="col-sm-6">
					<div class="row">
						<div class="input-group">

							<input type="text" ng-model="order.CreditAccount.AccountNumber" ng-blur="getAccountByAccountNumber(order.CreditAccount.AccountNumber)" class="form-control tab_title" id="CreditAccount" name="CreditAccount" style="text-align:right"
								   required onkeypress='return event.charCode >= 48 && event.charCode <= 57' data-update-model-on-enter-key-pressed ng-minlength="15" ng-maxlength="15" maxlength="15" />
							<div class="input-group-btn" style="display:block;">
								<div class="btn-group">
									<button type="button" class="btn btn-default searchButton dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="glyphicon glyphicon-search greenStyle" title="Հաշվի որոնում"></span></button>
									<ul class="dropdown-menu dropdown-menu-right" style="float:right;">
										<li ng-click="searchAccounts()"><a href="">Հաշվի որոնում</a></li>
										<li ng-click="searchCards()"><a href="">Քարտի որոնում</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="row">

						<span class="tab_title" style="font-size: 80%;text-align:justify">  {{order.CreditAccount.Description}} {{order.CreditAccount.Currency}}</span>
						<span ng-if="hasaccount==false" class="tab_title" style="font-size: 80%;text-align:justify">Հաշիվը գտնված չէ</span>
						<ng-messages ng-if="cashBookOrderForm.$submitted || cashBookOrderForm.ReceiverAccount.$dirty"
									 for="cashBookOrderForm.CreditAccount.$error">
							<ng-message when="required" class="errors">
								Հաշիվը լրացված չէ
							</ng-message>
							<ng-message when="minlength" class="errors">
								Հաշվի նիշերի քանակը պետք է լինի 15
							</ng-message>
						</ng-messages>
					</div>
				</div>
			</div>

			<div class="form-group " ng-if="linkedCashBookType==3 && correspondentAccountType==1">
				<label class="tab_title col-sm-5" for="DebitAccount">Դեբետագրվող հաշիվ</label>
				<div class="col-sm-6">
					<div class="row">
						<div class="input-group">

							<input type="text" ng-model="order.DebitAccount.AccountNumber" ng-blur="getAccountByAccountNumber(order.DebitAccount.AccountNumber)" class="form-control tab_title" id="CreditAccount" name="CreditAccount" style="text-align:right"
								   required onkeypress='return event.charCode >= 48 && event.charCode <= 57' data-update-model-on-enter-key-pressed ng-minlength="15" ng-maxlength="15" maxlength="15" />
							<div class="input-group-btn" style="display:block;">
								<div class="btn-group">
									<button type="button" class="btn btn-default searchButton dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="glyphicon glyphicon-search greenStyle" title="Հաշվի որոնում"></span></button>
									<ul class="dropdown-menu dropdown-menu-right" style="float:right;">
										<li ng-click="searchAccounts()"><a href="">Հաշվի որոնում</a></li>
										<li ng-click="searchCards()"><a href="">Քարտի որոնում</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="row">

						<span class="tab_title" style="font-size: 80%;text-align:justify">  {{order.DebitAccount.Description}} {{order.DebitAccount.Currency}}</span>
						<span ng-if="hasaccount==false" class="tab_title" style="font-size: 80%;text-align:justify">Հաշիվը գտնված չէ</span>
						<ng-messages ng-if="cashBookOrderForm.$submitted || cashBookOrderForm.DebitAccount.$dirty"
									 for="cashBookOrderForm.DebitAccount.$error">
							<ng-message when="required" class="errors">
								Հաշիվը լրացված չէ
							</ng-message>
							<ng-message when="minlength" class="errors">
								Հաշվի նիշերի քանակը պետք է լինի 15
							</ng-message>
						</ng-messages>
					</div>
				</div>
			</div>

			<div class="form-group" ng-if="correspondentAccountType==2 || correspondentAccountType==3">
				<label class="tab_title col-sm-5" for="Currency">Արժույթը</label>
				<div class="col-sm-6" data-ng-init="getCurrenciesForOrder()">
					<div class="row">
						<select data-ng-model="order.Currency" name="Currency" id="Currency" disabled
								class="form-control" required
								data-ng-options="k as v for (k,v) in currencies">
							<option value="" hidden="hidden" style="margin-left:25px">Ընտրեք արժույթը...</option>
						</select>
					</div>
					<div class="row">
						<ng-messages ng-if="cashBookOrderForm.$submitted || cashBookOrderForm.Currency.$dirty"
									 for="cashBookOrderForm.Currency.$error">
							<ng-message when="required" class="errors">
								Արժույթը ընտրված չէ
							</ng-message>
						</ng-messages>
					</div>


				</div>
			</div>


			<div class="form-group ">
				<label class="tab_title col-sm-5" for="Amount">Գումար</label>
				<div class="col-sm-6">

					<div class="row">

						<div class="input-group col-sm-10" ng-show="!disabled">
							<input type="text" ng-model="partialAmount" ng-disabled="disabled" id="Amount" onkeypress='return event.charCode >= 48 && event.charCode <= 57 || event.charCode==46' name="Amount" class="form-control tab_title" fcsa-number />
							<span class="input-group-addon" id="basic-addon2" style="width: 0;">{{order.Currency!=undefined?order.Currency:'&nbsp;&nbsp;&nbsp;'}} </span>
						</div>

						<div class="input-group col-sm-10" ng-show="disabled" ng-init="order.Amount= (linkedCashBook.Amount - MaturedAmount).toFixed(2)">
							<input type="text" ng-model="order.Amount" ng-disabled="disabled" id="Amount" onkeypress='return event.charCode >= 48 && event.charCode <= 57 || event.charCode==46' name="Amount" class="form-control tab_title" fcsa-number />
							<span class="input-group-addon" id="basic-addon2" style="width: 0;">{{order.Currency!=undefined?order.Currency:'&nbsp;&nbsp;&nbsp;'}} </span>
						</div>

					</div>
					<div class="row ">
						<ng-messages ng-if="cashBookOrderForm.$submitted || cashBookOrderForm.Amount.$dirty"
									 for="cashBookOrderForm.Amount.$error">
							<ng-message when="required" class="errors">
								Գումարը լրացված չէ
							</ng-message>

							<ng-message when="fcsaNumber" class="errors">
								Գումարը սխալ է լրացված
							</ng-message>
						</ng-messages>
					</div>
				</div>
			</div>

		</div>
		@*ասել է փոխենք Ղուկասյան Վահագը, անկանխիկի դեպքում պետք չէ մուտքագրել գործարք կատարող անձին*@
		<div class="col-sm-5" ng-if="correspondentAccountType !=1">
			<noncashopperson formname="cashBookOrderForm" ng-if="linkedCashBookType==3 && correspondentAccountType==1" opperson="order.OPPerson" ordertype="139" accountnumber="order.DebitAccount.AccountNumber"></noncashopperson>
			<cashopperson ng-if="(linkedCashBookType==1 && correspondentAccountType==1) || correspondentAccountType==2 " formname="cashBookOrderForm" opperson="order.OPPerson" ordertype="139"></cashopperson>
		</div>

	</div>
</form>
